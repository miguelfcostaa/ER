<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <base href="/">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="https://cdn.discordapp.com/attachments/707687832239603863/1048573000548618360/classic_car.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <title> Sistema Infotainment </title>

</head>

<body class="background_ecraPrincipal">
    <img src='https://cdn.discordapp.com/attachments/707687832239603863/1049440866693025933/goback.png' class="goBack" 
    width='100px' height='100px' onclick="location.href='/'">

    <form id="form-sistema">
    <button id = "phone" value="two"><img src="https://cdn.discordapp.com/attachments/707687832239603863/1049385285810671616/botao_PHONE.png" class="botaoPHONE"
    width="150px" height="56px" ></button>
    </form>

    <div class="ecra-branco">
        <h2 class="lead">Conect to which device?</h2>
        <div class="list-group">
        <form id="form-sistema-user">
            <input class="form-check-input" type="radio" id="James" name="user" value="James">
            <label class="form-check-label" for="James">James</label><br>
            <hr style="color:white;">
            <input class="form-check-input"  type="radio" id="John" name="user" value="John">
            <label class="form-check-label" for="John">John</label><br>
            <hr style="color:white;">
            <input class="form-check-input" type="radio" id="Susan" name="user" value="Susan">
            <label class="form-check-label" for="Susan">Susan</label><br>
            <hr style="color:white;">
            <input class="form-check-input" type="radio" id="Emily" name="user" value="Emily">
            <label class="form-check-label" for="Emily">Emily</label><br>
            <hr style="color:white;">
            <input class="form-check-input" type="radio" id="Emma" name="user" value="Emma">
            <label class="form-check-label" for="Emma">Emma</label><br>
            <hr style="color:white;">
            <input class="form-check-input" type="radio" id="Paul" name="user" value="Paul">
            <label class="form-check-label" for="Paul">Paul</label><br>
            <hr style="color:white;">
            <button>Escolher</button>
        </form>
 
          </div>
        
    </div>
    
    <script>
        const form = document.getElementById('form-sistema-user');
        form.addEventListener('submit', async(e) =>{
            e.preventDefault();
            const user = document.querySelector('input[name="user"]:checked').value;
            console.log('CONTACTO: ', user);

            try{
                const res = await fetch('http://localhost:3000/ecraPrincipal/phone',{
                    method: 'POST',
                    body: JSON.stringify({user}),
                    headers:{'Content-Type': 'application/json'}
                });
                const data = await res.json();
                console.log('DATA: ',data);
            }catch(err){
                console.log(err);
            }
            location.assign('/ecraPrincipal/contactos');

        });

    </script>


</body>

</html>